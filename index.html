<html>
<head>
<title>Toby J. Sullivan</title>
<script language="javascript" src="js/jquery-1.11.1.min.js"></script>
<script language="javascript" src="js/filesystem.js"></script>
<script language="javascript" src="js/lib.js"></script>
<script language="javascript">
var current_path = new Path();

function execute_command(command) {
  var arguments = command.split(' ');
  var cmd = arguments.shift();

  var fn = lib[cmd];
  if(typeof fn === 'function') {
    fn.apply(this, arguments);
  } else {
    print_line("Unknown command: "+cmd);
  }
}

function print_line(line) {
  $("#console").before("<p>"+line+"</p>");
}

// Listen for key input
$(window).keypress(function(event) {
  var cmd_line = $("#command_line");

  if(event.keyCode == 13) {
    // Handle ENTER press
    var cmd = cmd_line.html();

    // Append command to history
    print_line("$ "+cmd);

    // execute command
    execute_command(cmd);
    
    // Clear buffer
    cmd_line.html("");
    return;
  }

  var cur_char = String.fromCharCode(event.keyCode);

  cmd_line.append(cur_char);
});

$(window).keydown(function(event) {
  var cmd_line = $("#command_line");
  if(event.keyCode == 8) {
    // Backspace
    cmd_line.html(cmd_line.html().substring(0, cmd_line.html().length - 1))

    // Cancel Backspace event
    event.preventDefault();
  }
});
</script>

<style type="text/css">
#cursor {
  border-bottom: 2px solid #000;
}
</style>

</head>
<body>

<h1>~~~this is my tilde.club page~~~~</h1>

<div class="terminal">
  <p>Type `help` for available commands</p>
  <p id="console">$ <span id="command_line"></span><span id="cursor">&nbsp;&nbsp;</span></p>
</div>

<hr style="margin-top: 300px;">

<!-- Begin Tilde.Club Ring Fragment-->
<center>
<font size="2">
</font></p><center><font size="2">
<center>
<br><img src="http://tilde.club/~harper/webring.png"  border="0" usemap="#notepad.map"><br>
</center>
<br>
Click for the [
<a href="http://tilde.club/~harper/link.html?action=random" target="_top">Random page</a> ]
<br>
Want to join the ring? Click here for
<a href="http://tilde.club/~harper/link.html?action=info" target="_top">info</a>.
<br></font></center>
<map name="notepad.map">
<area shape="rect" coords="0, 0, 60, 70" target="_top" href="http://tilde.club/~harper/link.html?action=join">
<area shape="rect" coords="130, 0, 417, 75" target="_top" href="http://tilde.club/~harper/link.html?action=random">
<area shape="rect" coords="465, 0, 549, 75" target="_top" href="http://tilde.club/~harper/link.html?action=join">
</map>
<img src="http://tilde.club/~agray/img/tildeclub.gif">
<p>
Friends of this page: <a href="http://tilde.club/~agray/">~agray</a>
</p>
</center>
<!-- End Webring Fragment-->



</body>
</html>
